(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{518:function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var i=r(226),s=r(268);const n=[137,80,78,71,13,10,26,10],h=[];for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;h[t]=e}function o(t,e){return(4294967295^function(t,e,r){let i=t;for(let t=0;t<r;t++)i=h[255&(i^e[t])]^i>>>8;return i}(4294967295,t,e))>>>0}var a,c,d,f;!function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(a||(a={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"}(c||(c={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"}(d||(d={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"}(f||(f={}));const l=new Uint8Array(0),p=new Uint16Array([255]),E=255===new Uint8Array(p.buffer)[0];class u extends i.a{constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new s.a,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=c.UNKNOWN,this._filterMethod=d.UNKNOWN,this._interlaceMethod=f.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let t=0;t<n.length;t++)if(this.readUint8()!==n[t])throw new Error(`wrong PNG signature. Byte at ${t} should be ${n[t]}.`)}decodeChunk(){const t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-r!==t)throw new Error("Length mismatch while decoding chunk "+e);if(this._checkCrc){const r=this.readUint32(),i=t+4,s=o(new Uint8Array(this.buffer,this.byteOffset+this.offset-i-4,i),i);if(s!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${s}`)}else this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error("invalid bit depth: "+t);return t}(this.readUint8());const e=this.readUint8();let r;switch(this._colorType=e,e){case a.GREYSCALE:r=1;break;case a.TRUECOLOUR:r=3;break;case a.INDEXED_COLOUR:r=1;break;case a.GREYSCALE_ALPHA:r=2;break;case a.TRUECOLOUR_ALPHA:r=4;break;default:throw new Error("Unknown color type: "+e)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==c.DEFLATE)throw new Error("Unsupported compression method: "+this._compressionMethod);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(t){if(t%3!=0)throw new RangeError("PLTE field length must be a multiple of 3. Got "+t);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let t=0;t<e;t++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t)),this.skip(t)}decodetRNS(t){if(3===this._colorType){if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255)}}decodetEXt(t){let e,r="";for(;"\0"!==(e=this.readChar());)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeImage(){if(this._inflator.err)throw new Error("Error while decompressing the data: "+this._inflator.err);const t=this._inflator.result;if(this._filterMethod!==d.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod!==f.NO_INTERLACE)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this.decodeInterlaceNull(t)}decodeInterlaceNull(t){const e=this._png.height,r=this._png.channels*this._png.depth/8,i=this._png.width*r,s=new Uint8Array(this._png.height*i);let n,h,o=l,a=0;for(let c=0;c<e;c++){switch(n=t.subarray(a+1,a+1+i),h=s.subarray(c*i,(c+1)*i),t[a]){case 0:_(n,h,i);break;case 1:N(n,h,i,r);break;case 2:U(n,h,o,i);break;case 3:w(n,h,o,i,r);break;case 4:A(n,h,o,i,r);break;default:throw new Error("Unsupported filter: "+t[a])}o=h,a+=i+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){const t=new Uint16Array(s.buffer);if(E)for(let e=0;e<t.length;e++)t[e]=(255&(c=t[e]))<<8|c>>8&255;this._png.data=t}else this._png.data=s;var c}}function _(t,e,r){for(let i=0;i<r;i++)e[i]=t[i]}function N(t,e,r,i){let s=0;for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}function U(t,e,r,i){let s=0;if(0===r.length)for(;s<i;s++)e[s]=t[s];else for(;s<i;s++)e[s]=t[s]+r[s]&255}function w(t,e,r,i,s){let n=0;if(0===r.length){for(;n<s;n++)e[n]=t[n];for(;n<i;n++)e[n]=t[n]+(e[n-s]>>1)&255}else{for(;n<s;n++)e[n]=t[n]+(r[n]>>1)&255;for(;n<i;n++)e[n]=t[n]+(e[n-s]+r[n]>>1)&255}}function A(t,e,r,i,s){let n=0;if(0===r.length){for(;n<s;n++)e[n]=t[n];for(;n<i;n++)e[n]=t[n]+e[n-s]&255}else{for(;n<s;n++)e[n]=t[n]+r[n]&255;for(;n<i;n++)e[n]=t[n]+g(e[n-s],r[n],r[n-s])&255}}function g(t,e,r){const i=t+e-r,s=Math.abs(i-t),n=Math.abs(i-e),h=Math.abs(i-r);return s<=n&&s<=h?t:n<=h?e:r}i.a;var O;function R(t,e){return new u(t,e).decode()}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(O||(O={}))}}]);