(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{81:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return h}));var n=s(3);const r=[{name:"poor",lessThanPercent:2/3*100},{name:"uncommon",lessThanPercent:100},{name:"epic",lessThanPercent:101}];class i{constructor(t){const e=t.findInputElement();e.addEventListener("keyup",this.onInputChange.bind(this)),e.addEventListener("change",this.onInputChange.bind(this)),this.category=null,this.listeners=[],this.loadVendorPasswordStrengthLibrary()}loadVendorPasswordStrengthLibrary(){Promise.all([s.e(82).then(s.t.bind(null,98,7)),s.e(84).then(s.t.bind(null,103,7))]).then(([t,e])=>{e.PasswordWordList.load({}).then(e=>{this.determinePasswordStrengthPercentage=s=>{const n=t.default(s,e),r=Math.min((n.score+1)/4*100,100);return s.length<8?Math.min(r,2/3*100-.1):r}})})}addListener(t){this.listeners.push(t)}emitPasswordStrengthChange(t,e,s){t===this.percent&&s==this.meetsLengthRequirement||(this.percent=t,this.meetsLengthRequirement=s,this.listeners.forEach(n=>n.onPasswordStrengthChange(t,e,s)))}onInputChange(t){const e=t.target.value;if(e){const t=this.determinePasswordStrengthPercentage(e),s=this.determineStrengthCategory(t);this.emitPasswordStrengthChange(t,s,e.length>=8&&e.length<=128)}else this.emitPasswordStrengthChange(0,this.determineStrengthCategory(0),!1)}determineStrengthCategory(t){for(let e of r)if(t<e.lessThanPercent)return e.name}determinePasswordStrengthPercentage(t){return t.length<8?1:100}}class a{constructor(t){this.$strengthBar=t.findPasswordStrengthProgressBarElement(),this.$strengthStatus=t.findPasswordStrengthStatusElement(),this.placeholderText=this.$strengthStatus.innerText,this.categoryNames=r.map(t=>t.name),this.strengthIndicatorLocalizationMap=this.buildStrengthIndicatorLocalizationMap()}buildStrengthIndicatorLocalizationMap(){return this.categoryNames.reduce((t,e)=>(t[e]=(this.$strengthStatus.getAttribute(`data-blz-password-strength-${e}`)||"").trim(),t),{})}onPasswordStrengthChange(t,e){t?(this.setProgressBarPercentage(t,e),this.setTextIndicatorCategory(e)):this.resetProgressBar()}setProgressBarPercentage(t,e){this.$strengthBar.setAttribute("value",""+t/100),this.$strengthBar.classList.remove(...this.categoryNames),this.$strengthBar.classList.add(e)}resetProgressBar(){this.$strengthBar.setAttribute("value","0"),this.$strengthBar.classList.remove(...this.categoryNames),this.$strengthStatus.classList.remove(...this.categoryNames),this.$strengthStatus.textContent=this.placeholderText}setTextIndicatorCategory(t){this.$strengthStatus.textContent=this.strengthIndicatorLocalizationMap[t],this.$strengthStatus.classList.remove(...this.categoryNames),this.$strengthStatus.classList.add(t)}}class o{constructor(t){this.capture=t,this.$input=t.findInputElement(),this.$input.addEventListener("change",this.onPasswordChange.bind(this)),this.weakPasswordErrorText=t.findWeakPasswordErrorText()}onPasswordChange(t){t.target.valid?this.capture.disableFormValidation():this.capture.enableFormValidation()}onPasswordStrengthChange(t,e,s){t<2/3*100&&s?this.isWeakPasswordValidityApplied||(this.$input.setCustomValidity(this.weakPasswordErrorText),this.isWeakPasswordValidityApplied=!0):(this.$input.setCustomValidity(""),this.isWeakPasswordValidityApplied=!1)}}class h extends n.a{constructor(t){super("password",t),this.capsLockOn=!1,this.passwordVisible=!1,this.capsLockListener=this.checkForCapsLock.bind(this)}_bind(){super._bind();const t=new i(this);t.addListener(new a(this)),t.addListener(new o(this)),document.addEventListener("click",this.capsLockListener),document.addEventListener("keydown",this.capsLockListener),document.addEventListener("keyup",this.capsLockListener);const e=this.findShowPasswordButton();e&&e.addEventListener("click",this.togglePasswordVisibility.bind(this))}_release(){document.removeEventListener("click",this.capsLockListener),document.removeEventListener("keydown",this.capsLockListener),document.removeEventListener("keyup",this.capsLockListener)}showPassword(t){this.findInputElement().setAttribute("type","text"),t.classList.add("enabled")}hidePassword(t){this.findInputElement().setAttribute("type","password"),t.classList.remove("enabled")}findShowPasswordButton(){return this.node("show-password")}findShowCapsAlertElement(){return this.node("caps-alert")}findPasswordStrengthProgressBarElement(){return this.node("password-strength-bar")}findPasswordStrengthStatusElement(){return this.node("password-strength-status")}findWeakPasswordErrorText(){return this.findInputElement().getAttribute("data-blz-password-weak-error")}togglePasswordVisibility(t){this.passwordVisible?this.hidePassword(this.findShowPasswordButton()):this.showPassword(this.findShowPasswordButton()),this.passwordVisible=!this.passwordVisible}checkForCapsLock(t){t.getModifierState&&t.getModifierState("CapsLock")?this.capsLockOn||(this.capsLockOn=!0,this.showCapsLockWarning()):this.capsLockOn&&(this.capsLockOn=!1,this.hideCapsLockWarning())}showCapsLockWarning(){const t=this.findShowCapsAlertElement();t&&(t.classList.add("enabled"),t.style.display="block")}hideCapsLockWarning(){const t=this.findShowCapsAlertElement();t&&t.classList.remove("enabled")}}}}]);